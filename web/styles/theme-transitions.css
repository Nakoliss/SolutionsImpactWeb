/**
 * Theme transition styles for smooth design switching
 * Optimized for performance with minimal reflow/repaint
 */

/* Base transition class for smooth theme switching */
.theme-transitioning {
    transition:
        background-color 300ms cubic-bezier(0.4, 0, 0.2, 1),
        color 300ms cubic-bezier(0.4, 0, 0.2, 1),
        border-color 300ms cubic-bezier(0.4, 0, 0.2, 1),
        box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1);

    /* Optimize for GPU acceleration */
    will-change: background-color, color, border-color, box-shadow;
    backface-visibility: hidden;
    perspective: 1000px;
}

/* Smooth transitions for theme-aware components */
.themed-page {
    transition:
        background-color 300ms cubic-bezier(0.4, 0, 0.2, 1),
        color 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

.themed-card {
    transition:
        background-color 300ms cubic-bezier(0.4, 0, 0.2, 1),
        border-color 300ms cubic-bezier(0.4, 0, 0.2, 1),
        box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

.themed-button {
    transition:
        background 300ms cubic-bezier(0.4, 0, 0.2, 1),
        color 300ms cubic-bezier(0.4, 0, 0.2, 1),
        border-color 300ms cubic-bezier(0.4, 0, 0.2, 1),
        box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1),
        transform 150ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* Optimize hover transitions */
.themed-button:hover {
    transform: translateY(-1px);
    transition-duration: 150ms;
}

/* Loading state for theme switching */
.theme-loading {
    position: relative;
    overflow: hidden;
}

.theme-loading::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg,
            transparent,
            rgba(255, 255, 255, 0.1),
            transparent);
    animation: theme-loading-shimmer 1.5s infinite;
    z-index: 1;
}

@keyframes theme-loading-shimmer {
    0% {
        left: -100%;
    }

    100% {
        left: 100%;
    }
}

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {

    .theme-transitioning,
    .themed-page,
    .themed-card,
    .themed-button {
        transition: none;
    }

    .theme-loading::before {
        animation: none;
    }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .themed-button {
        border-width: 2px;
    }
}

/* Dark mode optimizations */
@media (prefers-color-scheme: dark) {
    .theme-transitioning {
        /* Optimize transitions for dark backgrounds */
        transition-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }
}

/* Performance optimizations for mobile */
@media (max-width: 768px) {

    .theme-transitioning,
    .themed-page,
    .themed-card,
    .themed-button {
        /* Faster transitions on mobile for better performance */
        transition-duration: 200ms;
    }
}

/* Focus states with theme awareness */
.themed-button:focus-visible {
    outline: 2px solid var(--theme-accent);
    outline-offset: 2px;
    transition: outline-color 150ms ease;
}

/* Smooth gradient transitions */
.themed-gradient {
    background: var(--theme-gradient);
    transition: background 300ms cubic-bezier(0.4, 0, 0.2, 1);
    background-size: 200% 200%;
    animation: gradient-shift 3s ease infinite;
}

@keyframes gradient-shift {
    0% {
        background-position: 0% 50%;
    }

    50% {
        background-position: 100% 50%;
    }

    100% {
        background-position: 0% 50%;
    }
}

/* Optimize for print */
@media print {

    .theme-transitioning,
    .themed-page,
    .themed-card,
    .themed-button {
        transition: none !important;
        animation: none !important;
    }
}